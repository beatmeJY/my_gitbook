# EC2

## EC2 지불 방법

***

### 1. 온디맨드 (On-demand)

* 시간 당 정해진 금액 지불
* 선불개념이 존재 X -> 후불
* 비교적 기간이 짧고 끝나는 시간을 미리 알 수 없을 때 유용.
* 테스트 환경 등 불확실한 상황에 사용하기 좋음.

### 2. 리저브드 (Reserved Instance)

* 저렴한 비용으로 메리트가 있음.
* 1\~3년 정도 기간을 미리 지정하여 임대하는 방식.
* 단점으로 인스턴스의 크기를 늘리거나 줄일 수 없음.
* 선불로 비용을 부담하면 지정된 컴퓨팅 시스템을 사용할 수 있음.
* 요구 조건이 자주 변경되지 않고, 개발 시간을 잘 알고 있을 때 사용하기 좋음.

### 3. 스팟 (Spot Instance)

* 인스턴스를 원하는 가격에 입찰하여 사용할 수 있는 방식.
* 리저브드보다도 훨씬 저렴.
* 클라우드 시장 경제를 따르기 떄문에 인스턴스 사용 비용에 변덕이 생길 수 있음.
* 개발 시작과 끝에 전혀 구애받지 않고 예측하기 매우 어려운 곳에서 사용하기 좋음.





## EBS

***

> 파일 및 오브젝트를 보관할 수 있는 스토리지 볼륨으로 EC2 인스턴스에 부착되어 사용.

### 1. EBS 특징



* EC2가 종료되어도 EBS 안에 들어있는 데이터는 존재함.
* 인스턴스를 다시 켜도 똑같은 데이터 사용 가능.
* EBS는 가용 영역을 설정해줘야 함.
* AWS를 사용할 때 리전으로 리소스가 분리되어 있는데, 그 리전 안에서 가용 영역으로 범위를 또 나누게 됨.



### 2. 가용 영역 (AZ)

* 하나의 리전 안에는 여러 개의 가용 영역(AZ: availability zone)이 존재할 수 있음.
* 재해 복구 시 백업본으로 서버가 운영되기 위해, 각각의 가용 영역을 나누고 나머지 가용영역에서 백업받도록 함.



### 3. EBS 타입

#### SSD

* **General Purpose SSD** (gp2)&#x20;
  * 충분히 빠름.
  * 최대 10K IOPS를 지원하며 뛰어난 성능과 저렴한 비용 덕분에 보편적으로 사용.
  * 인스턴스에 여러 개의 EBS를 부착할 수 없음.
* **Provisioned IOPS SSD** (io1)
  * 극도의 I/O 처리를 요구하는 환경에서 사용됨 최대 60K의 IOPS를 지원.
  * gp2보다 훨씬 뛰어난 성능을 자랑하지만, 비싼 비용 때문에 잘 사용되지 않음.
  * 인스턴스에 여러 개의 EBD를 부착할 수 있음.

#### HDD

* Throughput Optimized HDD (st1)
  * 빅데이터 데이터 웨어하우스. 로그 프로세싱, 실시간 스트리밍 데이터처럼 실시간으로 대용량의 데이터를 처리할 때 주로 사용됨.
  * 부트 볼륨으로 사용할 수 없음.
* CDD HDD (sc1)
  * 파일 서버처럼 Input/Output이 매우 드문 경우 사용.
  * 부트 볼륨으로 사용할 수 없음.
  * st1에 비해 성능은 조금 뒤쳐지나, 가격이 매우 저렴.
* Magnetic (standard)
  * 1GB 당 가장 싼 비용으로 사용할 수 있음.
  * st1, sc1과 달리 HDD에서 부트 볼륨으로 사용할 수 있음.
  * 가격이 저렴하나 가장 느린 처리량과 작은 디스크 볼륨



## ELB (Elastic Load Balancer)

> EC2는 ELB를 사용하여 서버 트래픽을 인스턴스에 공평하게 배분하여 원활하게 처리함.

### 1. ELB 타입

* ALB (application load Balancer)
  * 네트워크 OSI 7계층 레이어에서 작동.
  * HTTP, HTTPS와 같은 네트워크 트래픽을 제어할 때 적합한 밸런서.
